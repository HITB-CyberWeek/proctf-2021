@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@addTagHelper *, OAuthServer
@using Microsoft.AspNetCore.Mvc.ModelBinding
@using OAuthServer.ViewModels
@model OAuthServer.ViewModels.LoginModel

<form autocomplete="off" asp-route="Login">
    <input type="hidden" asp-for="ReturnUrl"/>
    <div class="card">
        <input type="text" class="form-control form-control-lg" placeholder="User (could be arbitrary)" asp-for="Username"
               has-errors="@(ViewData.ModelState.GetValidationState(nameof(LoginModel.Username)) == ModelValidationState.Invalid)"
               autofocus="@(Model?.Username == null)">
        <span asp-validation-for="Username" class="invalid-feedback"></span>

        <input type="password" class="form-control form-control-lg form-control-last" placeholder="Team token for OAuth" asp-for="Token"
               has-errors="@(ViewData.ModelState.GetValidationState(nameof(LoginModel.Token)) == ModelValidationState.Invalid)"
               autofocus="@(Model?.Username != null)">
        <span asp-validation-for="Token" class="invalid-feedback"></span>
    </div>
    <p>
        <button type="submit" class="btn btn-dark btn-block mt-3">Login</button>
    </p>
</form>
